<!DOCTYPE html>
<html>
    <head>
        <style>
        table {
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        </style>
    </head>
    <body style="margin:30px 25px;">
        <h1>Legajos de Agentes</h1>
        
            <!-- Datos Personale --> 
            <style type="text/css">
            .tgw  {width: 100%;}
            .tg  {border-collapse:collapse;border-spacing:0;}
            .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
            .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
            .tg .tg-xq07{background-color:#efefef;border-color:inherit;text-align:left;vertical-align:top}
            .tg .tg-266k{background-color:#9b9b9b;border-color:inherit;text-align:left;vertical-align:top}
            .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
            .tg .tg-tf2e{text-align:left;vertical-align:top}
            .m0{margin: 0px}
            .bold {font-weight:bold}
            </style>
            <%- include("../utils/print") %>
            <% for (const agente of agentes) { %>
            <table class="tg tgw">
                <tr> <!-- HEADER  -->
                    <th class="tg-266k" colspan="2">
                        <h2 class="m0"><%= agente.apellido %>, <%= agente.nombre %></h2>
                    </th>
                </tr>
                
                <!-- DATOS PERSONALES --> 
                <tr> 
                    <td class="tg-xq07" colspan="2"><h3 class="m0">Datos Personales</h3></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Numero de Agente: <span class="bold"><%= agente.numero %></span></td>
                    <td class="tg-0pky">Estado:<span class="bold"><%= agente.activo? 'Activo': 'Baja' %></span></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Nombre: <span class="bold"><%= agente.nombre %></span></td>
                    <td class="tg-0pky"></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Documento: <span class="bold"><%= agente.documento %></span></td>
                    <td class="tg-0pky"></td>
                </tr>
                <tr>
                    <td class="tg-0pky">CUIL: <span class="bold"><%= agente.cuil %></span></td>
                    <td class="tg-0pky"></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Estado Civil: <span class="bold"><%= print(agente.estadoCivil) %></span></td>
                    <td class="tg-0pky">Nacionalidad: <span class="bold"><%= print(agente.nacionalidad, 'nombre')  %></span></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Sexo: <span class="bold"><%= print(agente.sexo) %></span></td>
                    <td class="tg-0pky">Fecha de Nacimiento: <span class="bold"><%= print(agente.fechaNacimiento) %></span></td>
                </tr>

                <!-- DATOS DOMICILIO -->
                <% const direccion = agente.direccion %>
                <tr> 
                    <td class="tg-xq07" colspan="2"><h3 class="m0">Datos Domicilio</h3></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Direccion: <span class="bold"><%= direccion.valor %></span></td>
                    <td class="tg-0pky"></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Localidad: <span class="bold"><%= print(direccion.localidad, 'nombre') %></span></td>
                    <td class="tg-0pky">Provincia: <span class="bold"><%= direccion.localidad? print(direccion.localidad.provincia, 'nombre'):'---' %></span></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Barrio: <span class="bold"><%= direccion.barrio %></span></td>
                    <td class="tg-0pky">CP:  <span class="bold"><%= print(direccion.codigoPostal) %></span></td>
                </tr>
                
                <!-- DATOS DE CONTACTO -->
                <tr> 
                    <td class="tg-xq07" colspan="2"><h3 class="m0">Datos de Contacto</h3></td>
                </tr>
                <% for (const contacto of agente.contactos) { %>    
                    <tr>
                        <td class="tg-0pky"><%= print(contacto.tipo) %>: <span class="bold"><%= contacto.valor %></span></td>
                        <td class="tg-0pky"></td>
                    </tr>
                <% } %>

                <!-- DATOS DE EDUCACION -->
                <tr> 
                    <td class="tg-xq07" colspan="2"><h3 class="m0">Estudios completados</h3></td>
                </tr>
                <% for (const estudio of agente.educacion) { %>    
                    <tr>
                        <td class="tg-0pky">Titulo <%= print(estudio.tipoEducacion) %>: <span class="bold"><%= estudio.titulo %></span></td>
                        <td class="tg-0pky"></td>
                    </tr>
                <% } %>

                 <!-- DATOS SITUACION EN PLANTA -->
                <% const situacion = agente.direccion %>
                <tr> 
                    <td class="tg-xq07" colspan="2"><h3 class="m0">Situacion en Planta (a definir)</h3></td>
                </tr>

                <!-- DATOS CARGO ACTUAL -->
                <% const cargo = agente.situacionLaboral %>
                <tr> 
                    <td class="tg-xq07" colspan="3"><h3 class="m0">Cargo Actual</h3></td>
                </tr>
                <tr>
                    <td class="tg-0pky">Norma: <span class="bold"><%= print(cargo.tipoNormaLegal,'nombre') %> <%= print(cargo.numeroNormaLegal) %></span></td>
                    <td class="tg-0pky">Fecha de la Norma:<span class="bold"><%= print(cargo.fechaNormaLegal) %></span></td>
                    <td class="tg-0pky">Categoria:<span class="bold"></span></td>
                </tr>
                

            </table>
            <br>
        <% } %>
    </body>
</html>